<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/common.css"/>
    <link href="css/mui.min.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="css/find.css"/>
    <link rel="stylesheet" type="text/css" href="css/shop.css"/>
    <script src="js/mui.min.js"></script>
    <style type="text/css">
    	.shop_item{
    		padding: 5px!important;
    	}
    	.shop_item:after{
    		height: 0;
    	}
    	.shop_img{
    		line-height: 0;
    	}
    	.shop_juli{
    		margin-right: 5px;font-size: 0.75rem;
    	}
    	.goods_sel li{
    		padding: 0px 15px;width: 33.3%;
    	}
    	
    	#shop_gb_list {
		    font-size: 0;
		    background: none;
		    border-bottom: 1px solid #ddd;
		    height: 40px;
		    overflow: visible;
		    z-index: 9999;
		}
		#shop_gb_list:after{
			height: 0;
		}
		.shop_gb{
	display: inline-block;width: 33%;font-size: 1rem;vertical-align: top;background: #fff;text-align: center;
	padding: 10px 15px;
}
.shop_gb:after{
	height: 0;
}
		.shop_gb  ul{
	margin-right: -15px!important;
	box-shadow: 5px 5px 5px #ff0000;
	font-size: 0;
	line-height: 0;
}
.shop_gb  ul:before{
	height: 1px!important;
}
.shop_gb  ul li{
	padding-left:0!important  ;
	padding-right: 0!important;
	padding-top: 0;
	padding-bottom: 0;
	height: 35px;
	line-height: 35px;
	background: #fff;
	border-bottom: 1px solid #ddd;
	font-size: 0.9rem;
	width: 100%;
}
.shop_gb  ul li a{
	color: #666;
}
.shop_gb  ul li:hover{
	background: #eee;
}
.shop_gb  ul li:after{
	height: 0!important;
}
.shop_gb  ul li a.mui-active{
	padding-left: 11px!important;
}
.shop_gb.mui-active{
	margin-top: 0!important;background: none;font-size: 14px;box-shadow: 0px 0px 3px #aaa;z-index: 99;
}
.shop_gb.mui-active >a{
	background: none;
}
.mui-table-view-cell>a:not(.mui-btn){
	margin: 0 ;
}
.mui-table-view-cell.mui-collapse .mui-table-view{
	margin-top: 0;margin-bottom: 0;
}
.shop_pro,.shop_title{
	word-break:break-all;
	display:-webkit-box;
	-webkit-line-clamp:1;
	-webkit-box-orient:vertical;
	overflow:hidden;
}
.mui-navigate-right:after, .mui-push-right:after{
	right: 0;
}
.shop_msg{
	padding-left: 0;
}
.shop_msg li{
	text-indent: 10px;
}
.shop_title{
	font-size: 0.95rem;
}
.goods_sel {
	line-height: 38px;
}
#slider{
	height: inherit;
}
#goods_sel li.active{
	background-color: #79888f;
    color: #fff;
}
#goods_sel li.active a,#goods_sel li.active a:hover{
	color: #fff;
}
		
    </style>
  
    <script type="text/javascript" charset="utf-8">
      	mui.init();
    </script>
</head>
<body>
	<div class="mui-content">
	    <div id="slider" class="mui-slider" >
		  <div class="mui-slider-group mui-slider-loop">
		    <!-- 额外增加的一个节点(循环轮播：第一个节点是最后一张轮播) -->
		    <div class="mui-slider-item mui-slider-item-duplicate">
		      <a href="#">
		        <img src="image/shop_1.png">
		      </a>
		    </div>
		    <!-- 第一张 -->
		    <div class="mui-slider-item">
		      <a href="#">
		        <img src="image/shop_1.png">
		      </a>
		    </div>
		    <!-- 第二张 -->
		    <div class="mui-slider-item">
		      <a href="#">
		        <img src="image/shop_1.png">
		      </a>
		    </div>
		    <!-- 第三张 -->
		    <div class="mui-slider-item">
		      <a href="#">
		        <img src="image/shop_1.png">
		      </a>
		    </div>
		    <!-- 第四张 -->
		    <div class="mui-slider-item">
		      <a href="#">
		        <img src="image/shop_1.png">
		      </a>
		    </div>
		    <!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
		    <div class="mui-slider-item mui-slider-item-duplicate">
		      <a href="#">
		        <img src="image/shop_1.png">
		      </a>
		    </div>
		  </div>
		  <div class="mui-slider-indicator">
		    <div class="mui-indicator mui-active"></div>
		    <div class="mui-indicator"></div>
		    <div class="mui-indicator"></div>
		    <div class="mui-indicator"></div>
		  </div>
		</div>
		<div class="goods_sel" id="goods_sel">
			<ul class="mui-table-view" id="shop_gb_list">
			        <li class="mui-table-view-cell  shop_gb">
						<a class="" href="#">
							类型
						</a>
					</li>
		        	<li class="mui-table-view-cell mui-collapse shop_gb">
						<a class="mui-navigate-right" href="#">
							区域
						</a>
						<ul class="mui-table-view mui-table-view-chevron" id="area_list">
							<li class="">
								<a class="" href="javascript:void(0)">
									开发区
								</a>
							</li>
							<li class=" ">
								<a class="" href="javascript:void(0)">
									崇川区
								</a>
							</li>
							<li class="">
								<a class="" href="javascript:void(0)">
									如东县
								</a>
							</li>
							<li class="">
								<a class="" href="javascript:void(0)">
									海安县
								</a>
							</li>
							<li class="">
								<a class="" href="javascript:void(0)">
									如皋市
								</a>
							</li>
							<li class=" ">
								<a class="" href="javascript:void(0)">
									海门市
								</a>
							</li>
							<li class="">
								<a class="" href="javascript:void(0)">
									启东市
								</a>
							</li>
						</ul>
					</li>
			        <li class="mui-table-view-cell mui-collapse shop_gb" id="order_list">
						<a class="mui-navigate-right" href="#">
							排序
						</a>
						<ul class="mui-table-view mui-table-view-chevron ">
							<li class="">
								<a class="" href="javascript:void(0)">
									智能排序
								</a>
							</li>
							<li class="">
								<a class="" href="javascript:void(0)">
									从远到近
								</a>
							</li>
							<li class="">
								<a class="" href="javascript:void(0)">
									从近到远
								</a>
							</li>
							<li class="">
								<a class="" href="javascript:void(0)">
									评分从高到低
								</a>
							</li>
							<li class="">
								<a class="" href="javascript:void(0)">
									评分从低到高
								</a>
							</li>
						</ul>
					</li>
			    </ul>
		</div>
		<div class="shop_list" id="shop_list">
			<div class="mui-content mui-row mui-fullscreen">
				<div class="mui-col-xs-3">
					<div id="segmentedControls" class="mui-segmented-control mui-segmented-control-inverted mui-segmented-control-vertical">
						<a class="mui-control-item mui-active" data-index="0" href="#">全部</a>
						<a class="mui-control-item " data-index="1" href="#">中餐</a>
						<a class="mui-control-item " data-index="2" href="#">西餐</a>
						<a class="mui-control-item " data-index="2" href="#">特色菜</a>
						<a class="mui-control-item " data-index="2" href="#">自助餐</a>
						<a class="mui-control-item " data-index="2" href="#">亚洲菜系</a>
						<a class="mui-control-item " data-index="2" href="#">甜品</a>
						<a class="mui-control-item " data-index="2" href="#">咖啡</a>
						<a class="mui-control-item " data-index="2" href="#">茶道</a>
						<a class="mui-control-item " data-index="2" href="#">美酒</a>
					</div>
				</div>
				<div id="segmentedControlContents" class="mui-col-xs-9" style="border-left: 1px solid #c8c7cc;">
					<div id="pullrefresh" class="mui-content mui-scroll-wrapper">
						<div class="mui-scroll">
							<ul class="mui-table-view mui-table-view-chevron" style="background: none;" id="shop_list_i">
								<li class="mui-table-view-cell shop_item">
									<div class="shop_item_i shop_img">
										<img src="image/shop_2.png" class="shop_logo"/>
									</div>
									<div class="shop_item_i shop_msg">
										<ul>
											<li class="shop_title">这是一家全部店铺</li>
											<li class="shop_pro">这里描述的不多，最多两行，多了这行</li>
											<li>
												<span class="shop_status shop_on">营业中</span>
												<span class="shop_juli">11.49km</span>
											</li>
											<li>
												<div class="shop_pingfen">
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon2.png"/>
												</div>
											</li>
										</ul>
									</div>
									<div class="clear"></div>
								</li>
								<li class="mui-table-view-cell shop_item">
									<div class="shop_item_i shop_img">
										<img src="image/shop_2.png" class="shop_logo"/>
									</div>
									<div class="shop_item_i shop_msg">
										<ul>
											<li class="shop_title">这是一家全部店铺</li>
											<li class="shop_pro">这里描述的不多，最多两行，多了这行</li>
											<li>
												<span class="shop_status">营业中</span>
												<span class="shop_juli">11.49km</span>
											</li>
											<li>
												<div class="shop_pingfen">
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon2.png"/>
												</div>
											</li>
										</ul>
									</div>
									<div class="clear"></div>
								</li>
								<li class="mui-table-view-cell shop_item">
									<div class="shop_item_i shop_img">
										<img src="image/shop_2.png" class="shop_logo"/>
									</div>
									<div class="shop_item_i shop_msg">
										<ul>
											<li class="shop_title">这是一家全部店铺</li>
											<li class="shop_pro">这里描述的不多，最多两行，多了这行</li>
											<li>
												<span class="shop_status">营业中</span>
												<span class="shop_juli">11.49km</span>
											</li>
											<li>
												<div class="shop_pingfen">
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon2.png"/>
												</div>
											</li>
										</ul>
									</div>
									<div class="clear"></div>
								</li>
								<li class="mui-table-view-cell shop_item">
									<div class="shop_item_i shop_img">
										<img src="image/shop_2.png" class="shop_logo"/>
									</div>
									<div class="shop_item_i shop_msg">
										<ul>
											<li class="shop_title">这是一家全部店铺</li>
											<li class="shop_pro">这里描述的不多，最多两行，多了这行</li>
											<li>
												<span class="shop_status">营业中</span>
												<span class="shop_juli">11.49km</span>
											</li>
											<li>
												<div class="shop_pingfen">
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon2.png"/>
												</div>
											</li>
										</ul>
									</div>
									<div class="clear"></div>
								</li>
								<li class="mui-table-view-cell shop_item">
									<div class="shop_item_i shop_img">
										<img src="image/shop_2.png" class="shop_logo"/>
									</div>
									<div class="shop_item_i shop_msg">
										<ul>
											<li class="shop_title">这是一家全部店铺</li>
											<li class="shop_pro">这里描述的不多，最多两行，多了这行</li>
											<li>
												<span class="shop_status">营业中</span>
												<span class="shop_juli">11.49km</span>
											</li>
											<li>
												<div class="shop_pingfen">
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon1.png"/>
													<img src="image/icon2.png"/>
												</div>
											</li>
										</ul>
									</div>
									<div class="clear"></div>
								</li>
							</ul>
						</div>
						
					</div>
				</div>
			</div>
		</div>
	</div>
	
	
	
	
</body>
</html>
<script src="js/jquery-1.10.1.min.js" type="text/javascript" charset="utf-8"></script>
<script>
			mui.init({
				pullRefresh: {
					container: '#pullrefresh',
					down: {
						callback: pulldownRefresh
					},
					up: {
						contentrefresh: '正在加载...',
						callback: pullupRefresh
					}
				}
			});
			/**
			 * 下拉刷新具体业务实现
			 */
			function pulldownRefresh() {
				setTimeout(function() {
					var table = document.body.querySelector('#shop_list_i');
					var cells = document.body.querySelectorAll('.mui-table-view-cell');
					for (var i = cells.length, len = i + 3; i < len; i++) {
						var li = document.createElement('li');
						li.className = 'mui-table-view-cell shop_item';
						li.innerHTML = '<div class="shop_item_i shop_img">'
										+	'<img src="image/shop_2.png" class="shop_logo"/>'
										+'</div>'
										+'<div class="shop_item_i shop_msg">'
										+	'<ul>'
										+		'<li class="shop_title">这是一家全部店铺</li>'
										+		'<li class="shop_pro">这里描述的不多，最多两行，多了这行</li>'
										+		'<li>'
										+			'<span class="shop_status">营业中</span>'
										+			'<span class="shop_juli">11.49km</span>'
										+		'</li>'
										+		'<li>'
										+			'<div class="shop_pingfen">'
										+				'<img src="image/icon1.png"/>'
										+				'<img src="image/icon1.png"/>'
										+				'<img src="image/icon1.png"/>'
										+				'<img src="image/icon1.png"/>'
										+				'<img src="image/icon2.png"/>'
										+			'</div>'
										+		'</li>'
										+	'</ul>'
										+'</div>'
										+'<div class="clear"></div>'
						//下拉刷新，新纪录插到最前面；
						table.insertBefore(li, table.firstChild);
					}
					mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
				}, 1500);
			}
			var count = 0;
			/**
			 * 上拉加载具体业务实现
			 */
			function pullupRefresh() {
				setTimeout(function() {
					mui('#pullrefresh').pullRefresh().endPullupToRefresh((++count > 2)); //参数为true代表没有更多数据了。
					var table = document.body.querySelector('#shop_list_i');
					var cells = document.body.querySelectorAll('.mui-table-view-cell');
					for (var i = cells.length, len = i + 5; i < len; i++) {
						var li = document.createElement('li');
						li.className = 'mui-table-view-cell shop_item';
						li.innerHTML = '<div class="shop_item_i shop_img">'
										+	'<img src="image/shop_2.png" class="shop_logo"/>'
										+'</div>'
										+'<div class="shop_item_i shop_msg">'
										+	'<ul>'
										+		'<li class="shop_title">这是一家全部店铺</li>'
										+		'<li class="shop_pro">这里描述的不多，最多两行，多了这行</li>'
										+		'<li>'
										+			'<span class="shop_status">营业中</span>'
										+			'<span class="shop_juli">11.49km</span>'
										+		'</li>'
										+		'<li>'
										+			'<div class="shop_pingfen">'
										+				'<img src="image/icon1.png"/>'
										+				'<img src="image/icon1.png"/>'
										+				'<img src="image/icon1.png"/>'
										+				'<img src="image/icon1.png"/>'
										+				'<img src="image/icon2.png"/>'
										+			'</div>'
										+		'</li>'
										+	'</ul>'
										+'</div>'
										+'<div class="clear"></div>'
						table.appendChild(li);
					}
				}, 1500);
			}
			var gallery = mui('.mui-slider');
	        gallery.slider({
	  	    interval:1000//自动轮播周期，若为0则不自动播放，默认为0；
	      	});
	      	mui.ready(function() {
				var header = document.querySelector('#slider');
				var list = document.getElementById('shop_list');
				var top=document.body.offsetHeigh-header.offsetHeight-40;
				console.log(document.body.offsetHeigh)
				//calc hieght
				list.style.top = (document.body.offsetHeigh-header.offsetHeight-40) + 'px';
				//create
			});
			$(function(){
				console.log($(window).height())
				console.log($('#slider').outerHeight())
				var top=$('#slider').outerHeight()+40;
				$("#shop_list").css('top',top);
				mui("#segmentedControls").on('tap','a',function(){
					document.querySelector('#shop_list_i').innerHTML='';
					
					mui('#pullrefresh').pullRefresh().pullupLoading();
					mui('#pullrefresh').pullRefresh().scrollTo(0, 0, 1000);
				})
				mui("#area_list").on('tap','li',function(){
					$(this).siblings().removeClass('active');
							$(this).addClass('active');
							$(this).parent().prev().html($(this).text())
				})
				mui("#order_list").on('tap','li',function(){
					$(this).siblings().removeClass('active');
							$(this).addClass('active');
							$(this).parent().prev().html($(this).text())
				})
				
			})
		</script>